<DOCTYPE! html>

<html>

    <head>

        <title>NICO'S CODEPLAYER</title>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Bebas+Neue&display=swap" rel="stylesheet">

        <style type="text/css">
            
            html{
                margin: 0;
                padding: 0;
                }
            
            #navbar{
                height: 50px;
                width: 100%;
                background-color: lightgray;
                display: flex;                    
            }
            
            #siteName{                
                font-family: 'Bebas Neue', cursive;
                font-size: 1.75em;
                margin-top: 10px;
                margin-left: 10px;
                align-content: flex-start;                
            }
            
            #buttonContainer{
                margin: auto;
            }
            
            .menuButton{               
                margin: 5px;
                width: 100px;
                height: 40px;
                font-weight: strong;
                border-radius: 5%;
                background: #e7e7e7;                                
            }
            
            #mainScreen{                
                width: 100%;
                height: 100%;
                display: flex;
                flex-wrap: nowrap;                                                
            }
            
            .tiles{
                position: relative;
                width: 25%;                
            }

            .tileHeading{
                font-size: 2em;
                font-weight: bolder;
                margin: 0;
                position: absolute;
            }

            #opt{
                margin-top: -50px;
            }
            
            #htmlInput{
                float: left;
                height: inherit;
            }
            
            #cssInput{
                float: left;
                height: inherit;               
            }
            
            #javascriptInput{                
                float: left;
                height: inherit;
            }            
            #output{                
                float: left;
                height: inherit;
                border-style: solid;
                border-color: lightgrey;
                border-width: 1px;
                padding-top: 50px;      
            }
            
            textarea{                
                width: 100%;
                height: inherit;
                resize: none;
                padding-top: 50px;
            }

        </style>
    </head>
    
    <body>
        
        <div id="wrapper">            
            <nav id="navbar">              
                <span id=siteName>CODEPLAYER</span>
                <div id="buttonContainer">
                    <button class = "menuButton" id="htmlButton">HTML</button>
                    <button class = "menuButton" id="cssButton">CSS</button>
                    <button class = "menuButton" id="jsButton">JAVASCRIPT</button>
                    <button class = "menuButton" id="outputButton">OUTPUT</button>
                </div>
            </nav>
            
            <div id="mainScreen">            
                <div id="htmlInput" class="tiles">
                    <span class="tileHeading">HTML</span>
                    <textarea id="htmlCode"></textarea>
                </div>
                <div id="cssInput" class="tiles">
                    <span class="tileHeading">CSS</span>
                    <textarea id="cssCode"></textarea>
                </div>
                <div id="javascriptInput" class="tiles">
                    <span class="tileHeading">JAVASCRIPT</span>
                    <textarea id="javaCode"></textarea>
                </div>
                <div id="output" class="tiles">
                    <span class="tileHeading" id = "opt">OUTPUT</span> 
                    <style type="text/css" id="outputStyle"></style>
                    <section id="outputScreen"></section>                                                         
                </div>                  
            </div> 
        </div>
           
        <script type="text/javascript">            
            var htmlInput = "";
            var cssInput = "";
            var javaInput = "";
            var tileItems = 4;            

            $("button").hover(function(){
                $(this).css('background','grey');
            }, function() {
                $(this).css('background', "#e7e7e7");
            });                    

            $("#htmlButton").click(function(){
                $("#htmlInput").toggle();
                if($("#htmlInput:visible").length == 0){
                    tileItems = tileItems-1;
                    $("#htmlButton").css("color", "red");
                    $(".tiles").css("width", (100/tileItems)+"%");
                  
                } else {
                    tileItems = tileItems + 1;
                    $("#htmlButton").css("color", "black");
                    $(".tiles").css("width", (100/tileItems)+"%");
                }               
            });

            $("#cssButton").click(function(){
                $("#cssInput").toggle();
                if($("#cssInput:visible").length == 0){
                    tileItems = tileItems-1;
                    $("#cssButton").css("color", "red");
                    $(".tiles").css("width", (100/tileItems)+"%");
                  
                } else {
                    tileItems = tileItems + 1;
                    $("#cssButton").css("color", "black");
                    $(".tiles").css("width", (100/tileItems)+"%");
                }               
            });

            $("#jsButton").click(function(){
                $("#javascriptInput").toggle();
                if($("#javascriptInput:visible").length == 0){
                    tileItems = tileItems-1;
                    $("#jsButton").css("color", "red");
                    $(".tiles").css("width", (100/tileItems)+"%");
                  
                } else {
                    tileItems = tileItems + 1;
                    $("#jsButton").css("color", "black");
                    $(".tiles").css("width", (100/tileItems)+"%");
                }               
            });

            $("#outputButton").click(function(){
                $("#output").toggle();
                if($("#output:visible").length == 0){
                    tileItems = tileItems-1;
                    $("#outputButton").css("color", "red");
                    $(".tiles").css("width", (100/tileItems)+"%");
                  
                } else {
                    tileItems = tileItems + 1;
                    $("#outputButton").css("color", "black");
                    $(".tiles").css("width", (100/tileItems)+"%");
                }               
            });
                        
            $("textarea").on('change keyup paste', function() {                
                htmlInput = $("#htmlCode").val();
                cssInput = $("#cssCode").val();
                javaInput = $("#javaCode").val();                
                $("#outputScreen").html(htmlInput);
                $("#outputStyle").html(cssInput);
                $("#output").append($("<script>" + javaInput + "</"+"script>"));
            });
                
        </script>    
    </body>    
</html>